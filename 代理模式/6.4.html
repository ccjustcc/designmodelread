<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>代理的意义</title>
</head>

<body>
    <script>
    // 不用代理的预加载图片函数实现如下：
    var MyImage = (function() {
        var imgNode = document.createElement('img');
        document.body.appendChild(imgNode);
        var img = new Image;
        img.onload = function() {
            imgNode.src = img.src;
        };
        return {
            setSrc: function(src) {
                imgNode.src = 'file:// /C:/Users/svenzeng/Desktop/loading.gif';
                img.src = src;
            }
        }
    })();
    MyImage.setSrc('http:// imgcache.qq.com/music/photo/k/000GGDys0yA0Nk.jpg');
    //单一职责原则指的是，就一个类（通常也包括对象和函数等）而言，应该仅有一个引起它变
    // 化的原因。如果一个对象承担了多项职责，就意味着这个对象将变得巨大，引起它变化的原因可
    // 能会有多个。面向对象设计鼓励将行为分布到细粒度的对象之中，如果一个对象承担的职责过多，
    // 等于把这些职责耦合到了一起，这种耦合会导致脆弱和低内聚的设计。当变化发生时，设计可能
    // 会遭到意外的破坏

    //并不觉得在js中这很对，但是或许应该是对应锦上添花的功能，比如其实有图片已经够了，这只是锦绣添花，加个占位图

    //  纵观整个程序，我们并没有改变或者增加 MyImage 的接口，但是通过代理对象，实际上给系 // 统添加了新的行为。这是符合开放 — 封闭原则的。给 img 节点设置 src 和图片预加载这两个功能， // 被隔离在两个对象里，它们可以各自变化而不影响对方。何况就算有一天我们不再需要预加载， // 那么只需要改成请求本体而不是请求代理对象即可
    </script>
</body>

</html>