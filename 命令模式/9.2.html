<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>命令模式</title>
</head>

<body>
    <script>
    // 有时候需要向某些对象发送请求， 但是并不知道请求的接收者是谁， 也不知道被请
    // 求的操作是什么， 此时希望用一种松耦合的方式来设计软件， 使得请求发送者和请求接
    // 收者能够消除彼此之间的耦合关系
    // 命令模式的由来，其实是回调（ callback ）函数的一个面向对象的替代品
    </script>
    <button id="button1">点击按钮 1</button>
    <button id="button2">点击按钮 2</button>
    <button id="button3">点击按钮 3</button>
    <script>
    var button1 = document.getElementById('button1'),
        var button2 = document.getElementById('button2'),
            var button3 = document.getElementById('button3');
    //设置命令方法
    var setCommand = function(button, command) {
        button.onclick = function() {
            command.execute();
        }
    };
    //命令执行者
    var MenuBar = {
        refresh: function() {
            console.log('刷新菜单目录');
        }
    };
    var SubMenu = {
        add: function() {
            console.log('增加子菜单');
        },
        del: function() {
            console.log('删除子菜单');
        }
    };
    //命令对象
    var RefreshMenuBarCommand = function(receiver) {
        this.receiver = receiver;
    };
    RefreshMenuBarCommand.prototype.execute = function() {
        this.receiver.refresh();
    };
    var AddSubMenuCommand = function(receiver) {
        this.receiver = receiver;
    };
    //添加，使用
    var refreshMenuBarCommand = new RefreshMenuBarCommand(MenuBar);
    var addSubMenuCommand = new AddSubMenuCommand(SubMenu);
    var delSubMenuCommand = new DelSubMenuCommand(SubMenu);
    setCommand(button1, refreshMenuBarCommand);
    setCommand(button2, addSubMenuCommand);
    setCommand(button3, delSubMenuCommand);
    //主要体现在多人工作的时候  这是属于经典面向对象形式的，但是command =>js function  可以到处传   js天生带有的，看看js版本的
    
    //命令模式的由来，其实是回调（ callback ）函数的一个面向对象的替代品

    </script>
</body>

</html>